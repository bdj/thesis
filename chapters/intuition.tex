\chapter{Motivation and Intuition}
\section{Demodularization}
\section{Optimization}
\begin{listing}
  \inputminted{racket}{listings/main.rkt}
  \caption{\texttt{main.rkt} module with queue usage}
  \label{lst:main.rkt}
\end{listing}

\begin{listing}
  \inputminted{racket}{listings/queue.rkt}
  \caption{\texttt{queue.rkt} module}
  \label{lst:queue.rkt}
\end{listing}

\begin{listing}
  \inputminted{racket}{listings/long-queue.rkt}
  \caption{\texttt{long-queue.rkt} module}
  \label{lst:long-queue.rkt}
\end{listing}

\begin{listing}
  \inputminted{racket}{listings/short-queue.rkt}
  \caption{\texttt{short-queue.rkt} module}
  \label{lst:short-queue.rkt}
\end{listing}

\begin{listing}
  \inputminted{racket}{listings/main-expanded.rkt}
  \caption{\texttt{main.rkt} module after macro expansion}
  \label{lst:main-expanded.rkt}
\end{listing}

\begin{listing}
  \inputminted{racket}{listings/main-demodularized.rkt}
  \caption{\texttt{main.rkt} module after demodularization}
  \label{lst:main-demodularized.rkt}
\end{listing}

\begin{listing}
  \inputminted{racket}{listings/main-optimized.rkt}
  \caption{\texttt{main.rkt} module after optimization}
  \label{lst:main-optimized.rkt}
\end{listing}
